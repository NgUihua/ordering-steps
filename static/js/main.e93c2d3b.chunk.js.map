{"version":3,"sources":["components/Step1.tsx","components/Step2.tsx","components/Step3.tsx","components/Step4.tsx","components/StepsBar.tsx","data.js","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Step1","current","nextClick","display","labelCol","span","wrapperCol","style","onFinish","Item","label","name","rules","required","message","placeholder","Option","value","max","min","offset","type","htmlType","Step2","option","prev","Form","useForm","form","onChange","map","item","restaurant","id","onClick","resetFields","Step3","useState","selectds","setSelectds","List","fields","add","remove","field","align","width","index","selectdsCopy","splice","selectdAdd","disabled","some","initialValue","MinusCircleOutlined","selectdRemove","key","length","block","icon","PlusOutlined","setFieldsValue","dishs","Step4","props","className","meal","quantity","dish","servings","prve","success","Step","Steps","StepsBar","marginBottom","title","description","data","App","setCurrent","step1Values","setStep1Values","step2Values","setStep2Values","step3Values","setStep3Values","suitableRestaurants","setSuitableRestaurants","foodProvided","setFoodProvided","values","dishes","filter","availableMeals","includes","uniqBy","servingsTotal","error","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e93c2d3b.chunk.js","sourcesContent":["import { Button, Form, InputNumber, Select } from 'antd'\n\nimport { FC } from 'react'\nimport { Step1Values } from '../App'\n\nexport interface Step1Props {\n  current: number\n  values?: Step1Values\n  nextClick: (values: Step1Values) => void\n}\n\nconst Step1: FC<Step1Props> = ({ current, nextClick }) => {\n  const display = current === 0 ? 'block' : 'none'\n\n  return (\n    <Form labelCol={{ span: 18 }} wrapperCol={{ span: 6 }} style={{ display }} onFinish={nextClick}>\n      <Form.Item label='餐点' name='meal' rules={[{ required: true, message: '请选择类别' }]}>\n        <Select placeholder='请选择' >\n          <Select.Option value='breakfast'>早餐</Select.Option>\n          <Select.Option value='lunch'>午餐</Select.Option>\n          <Select.Option value='dinner'>晚餐</Select.Option>\n        </Select>\n      </Form.Item>\n      <Form.Item label='人数' name='quantity' rules={[{ required: true, message: '请输入人数' }]}>\n        <InputNumber placeholder='请输入' max={10} min={1} />\n      </Form.Item>\n      <Form.Item wrapperCol={{ span: 6, offset: 18 }} >\n        <Button type='primary' htmlType='submit' >下一步</Button>\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport default Step1\n","import { Button, Form, Select, Space } from 'antd'\n\nimport { Data } from '../App'\nimport { FC } from 'react'\n\nexport interface Step2Props {\n  current: number;\n  option?: Data[]\n  nextClick: (values: any) => void\n  prev: () => void\n}\n\nconst Step2: FC<Step2Props> = ({ current, option, nextClick, prev }) => {\n  const display = current === 1 ? 'block' : 'none'\n  const [form] = Form.useForm()\n\n  return (\n    <Form form={form} labelCol={{ span: 18 }} wrapperCol={{ span: 6 }} style={{ display }} onFinish={nextClick} onChange={() => { }}>\n      <Form.Item label='餐厅' name='restaurant' rules={[{ required: true, message: '请选择餐厅' }]}>\n        <Select placeholder='请选择' >\n          {option?.map(item => <Select.Option key={item.id} value={item.restaurant}>{item.restaurant}</Select.Option>)}\n        </Select>\n      </Form.Item>\n      <Form.Item wrapperCol={{ span: 6, offset: 18 }} >\n        <Space>\n          <Button\n            onClick={() => {\n              prev()\n              form.resetFields()\n            }}\n          >\n            上一步\n          </Button>\n          <Button type='primary' htmlType='submit' >下一步</Button>\n        </Space>\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport default Step2\n","import { Button, Form, InputNumber, Select, Space } from 'antd'\nimport { Data, Step3Values } from '../App'\nimport { FC, useState } from 'react'\nimport { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons';\n\nexport interface Step3Props {\n  current: number;\n  option?: Data[]\n  nextClick: (values: { dishs: Step3Values[] }) => void\n  prev: () => void\n}\n\nconst Step3: FC<Step3Props> = ({ current, option, nextClick, prev }) => {\n  const display = current === 2 ? 'block' : 'none'\n  const [form] = Form.useForm()\n  const [selectds, setSelectds] = useState<string[]>([])\n\n  // 添加已选菜品\n  const selectdAdd = (name: string, index: number) => {\n    const selectdsCopy = [...selectds]\n    selectdsCopy.splice(index, 1, name)\n    setSelectds(selectdsCopy)\n  }\n\n  // 删除已选菜品\n  const selectdRemove = (index: number) => {\n    const selectdsCopy = [...selectds]\n    selectdsCopy.splice(index, 1)\n    setSelectds(selectdsCopy)\n  }\n\n  // 根据菜品是否已选禁用选项\n  const optionDisabled = (name: string) => selectds.some(item => item === name)\n\n  return (\n    <Form style={{ display }} form={form} onFinish={nextClick}>\n      <Form.List name=\"dishs\">\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map(field => (\n              <Space key={field.key} align='baseline' style={{ width: '100%' }}>\n                <Form.Item label='菜品' name={[field.name, 'dish']} rules={[{ required: true, message: '请选择菜品' }]}>\n                  <Select placeholder='请选择' onChange={((value: string) => selectdAdd(value, field.name))}>\n                    {option?.map(item => <Select.Option key={item.id} value={item.name} disabled={optionDisabled(item.name)}>{item.name}</Select.Option>)}\n                  </Select>\n                </Form.Item>\n\n                <Form.Item label='份量' name={[field.name, 'servings']} initialValue={1} rules={[{ required: true, message: '请输入分量' }]}>\n                  <InputNumber min={1} max={10} />\n                </Form.Item>\n\n                <MinusCircleOutlined onClick={() => {\n                  remove(field.name)\n                  selectdRemove(field.name)\n                }} />\n\n              </Space>\n            ))}\n            {option?.length && (fields.length < option?.length) &&\n              <Form.Item>\n                <Button type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\n                  添加菜品\n                </Button>\n              </Form.Item>}\n          </>\n        )}\n      </Form.List>\n\n\n\n      <Form.Item wrapperCol={{ span: 6, offset: 18 }} >\n        <Space>\n          <Button\n            onClick={() => {\n              prev()\n              form.resetFields()\n              form.setFieldsValue({ dishs: [] })\n              setSelectds([])\n            }}\n          >\n            上一步\n          </Button>\n          <Button type='primary' htmlType='submit'>下一步</Button>\n        </Space>\n      </Form.Item>\n    </Form >\n  )\n}\n\nexport default Step3\n","import { Button, Col, Descriptions, Row, Space, message } from 'antd';\nimport React, { FC } from 'react'\nimport { Step1Values, Step2Values, Step3Values } from '../App'\n\nexport interface Step4Props extends Step1Values, Step2Values {\n  dishs: Step3Values[];\n  prve: () => void;\n  current: number\n}\n\nconst Step4: FC<Step4Props> = (props) => {\n  const display = props.current === 3 ? 'block' : 'none'\n\n  return (\n    <div className='descWarp' style={{ display }} >\n      <Descriptions >\n        <Descriptions.Item label=\"餐点\">{props.meal}</Descriptions.Item>\n        <Descriptions.Item label=\"人数\">{props.quantity}</Descriptions.Item>\n        <Descriptions.Item label=\"餐厅\">{props.restaurant}</Descriptions.Item>\n        <Descriptions.Item label=\"菜品\"><div>{props.dishs.map(item => <div key={item.dish}>{item.dish} * {item.servings}</div>)}</div></Descriptions.Item>\n      </Descriptions>\n      <Row>\n        <Col span={6} offset={18}>\n          <Space>\n            <Button onClick={props.prve} >\n              上一步\n            </Button>\n            <Button type='primary' onClick={() => message.success('提交成功')} >提交</Button>\n          </Space>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nexport default Step4\n","import { FC } from 'react';\nimport { Steps } from 'antd'\n\nconst { Step } = Steps;\n\ninterface StepsBarProps {\n  current: number\n}\n\nconst StepsBar: FC<StepsBarProps> = ({ current }) => {\n  return (\n    <Steps current={current} style={{ marginBottom: 30 }}>\n      <Step title=\"步骤1\" description=\"选择餐点和人数\" />\n      <Step title=\"步骤2\" description=\"选择餐厅\" />\n      <Step title=\"步骤3\" description=\"选择菜品和份数\" />\n      <Step title=\"步骤4\" description=\"预览\" />\n    </Steps>\n  )\n}\n\nexport default StepsBar\n","const data = {\n  \"dishes\": [\n    {\n      \"id\": 1,\n      \"name\": \"Chicken Burger\",\n      \"restaurant\": \"Mc Donalds\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 2,\n      \"name\": \"Ham Burger\",\n      \"restaurant\": \"Mc Donalds\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 3,\n      \"name\": \"Cheese Burger\",\n      \"restaurant\": \"Mc Donalds\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 4,\n      \"name\": \"Fries\",\n      \"restaurant\": \"Mc Donalds\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 5,\n      \"name\": \"Egg Muffin\",\n      \"restaurant\": \"Mc Donalds\",\n      \"availableMeals\": [\"breakfast\"]\n    },\n    {\n      \"id\": 6,\n      \"name\": \"Burrito\",\n      \"restaurant\": \"Taco Bell\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 7,\n      \"name\": \"Tacos\",\n      \"restaurant\": \"Taco Bell\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 8,\n      \"name\": \"Quesadilla\",\n      \"restaurant\": \"Taco Bell\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 9,\n      \"name\": \"Steak\",\n      \"restaurant\": \"BBQ Hut\",\n      \"availableMeals\": [\"dinner\"]\n    },\n    {\n      \"id\": 10,\n      \"name\": \"Yakitori\",\n      \"restaurant\": \"BBQ Hut\",\n      \"availableMeals\": [\"dinner\"]\n    },\n    {\n      \"id\": 11,\n      \"name\": \"Nankotsu\",\n      \"restaurant\": \"BBQ Hut\",\n      \"availableMeals\": [\"dinner\"]\n    },\n    {\n      \"id\": 12,\n      \"name\": \"Piman\",\n      \"restaurant\": \"BBQ Hut\",\n      \"availableMeals\": [\"dinner\"]\n    },\n    {\n      \"id\": 13,\n      \"name\": \"Vegan Bento\",\n      \"restaurant\": \"Vege Deli\",\n      \"availableMeals\": [\"lunch\"]\n    },\n    {\n      \"id\": 14,\n      \"name\": \"Coleslaw Sandwich\",\n      \"restaurant\": \"Vege Deli\",\n      \"availableMeals\": [\"breakfast\"]\n    },\n    {\n      \"id\": 15,\n      \"name\": \"Grilled Sandwich\",\n      \"restaurant\": \"Vege Deli\",\n      \"availableMeals\": [\"breakfast\"]\n    },\n    {\n      \"id\": 16,\n      \"name\": \"Veg. Salad\",\n      \"restaurant\": \"Vege Deli\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 17,\n      \"name\": \"Fruit Salad\",\n      \"restaurant\": \"Vege Deli\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 18,\n      \"name\": \"Corn Soup\",\n      \"restaurant\": \"Vege Deli\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 19,\n      \"name\": \"Tomato Soup\",\n      \"restaurant\": \"Vege Deli\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 20,\n      \"name\": \"Minestrone Soup\",\n      \"restaurant\": \"Vege Deli\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 21,\n      \"name\": \"Pepperoni Pizza\",\n      \"restaurant\": \"Pizzeria\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 22,\n      \"name\": \"Pepperoni Pizza\",\n      \"restaurant\": \"Pizzeria\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 23,\n      \"name\": \"Hawaiian Pizza\",\n      \"restaurant\": \"Pizzeria\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 24,\n      \"name\": \"Seafood Pizza\",\n      \"restaurant\": \"Pizzeria\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 25,\n      \"name\": \"Deep Dish Pizza\",\n      \"restaurant\": \"Pizzeria\",\n      \"availableMeals\": [\"dinner\"]\n    },\n    {\n      \"id\": 26,\n      \"name\": \"Chow Mein\",\n      \"restaurant\": \"Panda Express\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 27,\n      \"name\": \"Mapo Tofu\",\n      \"restaurant\": \"Panda Express\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 28,\n      \"name\": \"Kung Pao\",\n      \"restaurant\": \"Panda Express\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 29,\n      \"name\": \"Wontons\",\n      \"restaurant\": \"Panda Express\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 30,\n      \"name\": \"Garlic Bread\",\n      \"restaurant\": \"Olive Garden\",\n      \"availableMeals\": [\"breakfast\", \"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 31,\n      \"name\": \"Ravioli\",\n      \"restaurant\": \"Olive Garden\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 32,\n      \"name\": \"Rigatoni Spaghetti\",\n      \"restaurant\": \"Olive Garden\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    },\n    {\n      \"id\": 33,\n      \"name\": \"Fettucine Pasta\",\n      \"restaurant\": \"Olive Garden\",\n      \"availableMeals\": [\"lunch\", \"dinner\"]\n    }\n  ]\n}\n\nexport default data","import './App.css';\n\nimport Step1 from './components/Step1'\nimport Step2 from './components/Step2'\nimport Step3 from './components/Step3'\nimport Step4 from './components/Step4'\nimport StepsBar from './components/StepsBar'\nimport data from './data'\nimport { message } from 'antd';\nimport { uniqBy } from 'lodash'\nimport { useState } from 'react'\n\nexport type Meal = 'breakfast' | 'lunch' | 'dinner' | string\nexport interface Step1Values {\n  meal: Meal;\n  quantity: number;\n}\nexport interface Step2Values {\n  restaurant: string\n}\n\nexport interface Step3Values {\n  dish: string;\n  servings: number;\n}\nexport interface Data {\n  id: number;\n  name: string;\n  restaurant: string;\n  availableMeals: Meal[];\n  disabled?: boolean\n}\n\nfunction App() {\n  const [current, setCurrent] = useState<number>(0)\n  const [step1Values, setStep1Values] = useState<Step1Values>({ meal: '', quantity: 1 })\n  const [step2Values, setStep2Values] = useState<Step2Values>({ restaurant: '' })\n  const [step3Values, setStep3Values] = useState<Step3Values[]>([])\n  const [suitableRestaurants, setSuitableRestaurants] = useState<Data[]>()\n  const [foodProvided, setFoodProvided] = useState<Data[]>()\n\n\n  const suitableRestaurantFilter = (meal: Meal) => data.dishes.filter(item => item.availableMeals.includes(meal))\n  const foodProvidedFilter = (restaurant: string) => suitableRestaurants?.filter(item => item.restaurant.includes(restaurant))\n\n\n  const step1NextClick = (values: Step1Values) => {\n    setStep1Values({ ...values })\n    setSuitableRestaurants(suitableRestaurantFilter(values.meal)) // 根据餐点筛选出合适的餐厅\n    setCurrent(current + 1)\n  }\n\n  const step2NextClick = (values: Step2Values) => {\n    setStep2Values({ ...values })\n    setFoodProvided(foodProvidedFilter(values.restaurant)) // 根据餐厅筛选出合适的的菜品\n    setCurrent(current + 1)\n  }\n\n  const step3NextClick = (values: { dishs: Step3Values[] }) => {\n    if (values.dishs?.length) {\n      const quantity = step1Values.quantity\n      let servingsTotal = 0; // 份量总和\n      values.dishs.map((item: any) => servingsTotal += item.servings) \n      if (servingsTotal < quantity) {\n        message.error('份量应大于或等于人数')\n      } else {\n        setStep3Values(values.dishs)\n        setCurrent(current + 1)\n      }\n    } else {\n      message.error('请选择菜品和份量')\n    }\n  }\n\n  const prev = () => setCurrent(current - 1)\n\n  return (\n    <div className='app'>\n      <StepsBar current={current} />\n      <Step1 current={current} nextClick={step1NextClick} />\n      <Step2\n        current={current}\n        option={uniqBy(suitableRestaurants, 'restaurant')}\n        nextClick={step2NextClick}\n        prev={prev}\n      />\n      <Step3\n        current={current}\n        option={uniqBy(foodProvided, 'name')}\n        nextClick={step3NextClick}\n        prev={prev}\n      />\n      <Step4\n        {...step1Values}\n        {...step2Values}\n        dishs={step3Values}\n        prve={prev}\n        current={current}\n      />\n    </div>\n  );\n}\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}